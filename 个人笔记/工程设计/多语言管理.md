# 多语言管理

问题：多个字符串池如何合并
*暂时不考虑图片以及音效等*

## 现有的字符串池

UI字符串
代码中的字符串
表格中的字符串
剧本中的字符串

## 目标

* 去冗余
* 可热更
* 增量式添加字段
* 策划无感知

## 初步设计

自增id为key，公用一个字符串池。

以下是操作方案：

* UI字符串添加扫描工具，Text以及TMP思考无感知本地化方法。
* 代码中的字符串沿用原来的方式进行记录，id需要改为自增
* 剧本改为编译式，使用二进制而非使用字符串记录，命令将记录id，参数添加本地化参数，编译时只抽出需要本地化的参数。
* 表格已有字符串数组改为记录id，bytes数组进一步缩小了。

## 检查目标

* 去冗余：由于是单个字符串池，所以已达成
* 可热更：由于是自增增量式，所以支持热更新字段
* 增量式添加字段：自增id，当添加新字符串都将加到最后
* 策划无感知：剧本在编译时抽出，表格在抽出时抽出，代码需要程序自行处理，UI通过工具扫描，对于策划而言都是无感知的。达成